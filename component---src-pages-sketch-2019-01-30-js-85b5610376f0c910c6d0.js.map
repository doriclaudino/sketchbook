{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/30.js"],"names":["sketch","p","setup","createCanvas","noStroke","draw","background","stripes","y","height","push","distFromMouse","abs","mouseY","MAX_DIST","max","map","s","forEach","i","MV","ex","pow","EX_TOTAL","reduce","prev","bezierHandles","bhy","HP","BH_TOP","BH_BOTTOM","fill","beginShape","vertex","quadraticVertex","mouseX","width","endShape","touchMoved","location","path","pathname","description"],"mappings":"8iBAGA,IAAMA,EAAS,SAASC,GAGtBA,EAAEC,MAAQ,WACRD,EAAEE,aAAa,IAAK,KACpBF,EAAEG,YAGJH,EAAEI,KAAO,WACPJ,EAAEK,WAAW,SAEb,IADA,IAAIC,EAAU,GACLC,EAAI,EAAGA,GAAKP,EAAEQ,OAAS,EAAGD,GAVxB,GAWTD,EAAQG,KAAK,CACXF,IACAG,cAAeV,EAAEW,IAAIJ,EAAIP,EAAEY,UAG/B,IAAMC,EAAWb,EAAEc,IAAF,MAAAd,EAAC,EAAQM,EAAQS,KAAI,SAAAC,GAAC,OAAIA,EAAEN,mBAC7CJ,EAAQW,SAAQ,WAAuBC,GAAM,EAA1BX,EAA2B,IAAxBG,EAAuB,EAAvBA,cACdS,EAAKnB,EAAEe,IACXL,EACA,EACAG,EACAb,EAAEe,IAAIf,EAAEY,OAAQ,EAAGZ,EAAEQ,OAAQ,EAAG,GAChC,GAEFF,EAAQY,GAAGE,GAAKpB,EAAEqB,IAAIF,EAAIA,MAE5B,IAAMG,EAAWhB,EAAQiB,QAAO,SAACC,EAAD,UAAkBA,EAAlB,EAASJ,KAAoB,GACzDK,EAAgB,CAAC,GACjBC,EAAM,EACVpB,EAAQW,SAAQ,YAAa,IACrBU,EADoB,EAATP,GACDE,EAChBG,EAAchB,KAAKiB,EAAM1B,EAAEQ,OAASmB,GACpCD,GAAO1B,EAAEQ,OAASmB,KAGpBrB,EAAQW,SAAQ,WAAYC,GAAO,IAAhBX,EAAe,EAAfA,EACXoB,EAD0B,EAAZP,GACJE,EAEVM,GADI5B,EAAEQ,OACGiB,EAAcP,IACvBW,EAAYJ,EAAcP,EAAI,GACpClB,EAAE8B,KAAKZ,EAAI,EAAI,IAAM,GACrBlB,EAAE+B,aACF/B,EAAEgC,OAAO,EAAGzB,GACZP,EAAEiC,gBAAgBjC,EAAEkC,OAAQN,EAAQ5B,EAAEmC,MAAO5B,GAC7CP,EAAEgC,OAAOhC,EAAEmC,MAAO5B,EA7CT,IA8CTP,EAAEiC,gBAAgBjC,EAAEkC,OAAQL,EAAW,EAAGtB,EA9CjC,IA+CTP,EAAEoC,eAINpC,EAAEqC,WAAa,WACb,GACErC,EAAEkC,QAAU,GACZlC,EAAEY,QAAU,GACZZ,EAAEkC,QAAUlC,EAAEmC,OACdnC,EAAEY,QAAUZ,EAAEQ,OAEd,OAAO,IAKE,0BAAG8B,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CAAcvC,OAAQA,EAAQwC,KAAMD,EAASE,SAAUC,YAAY","file":"component---src-pages-sketch-2019-01-30-js-85b5610376f0c910c6d0.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\n\r\nconst sketch = function(p) {\r\n  const SIZE = 10;\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(660, 840);\r\n    p.noStroke();\r\n  };\r\n\r\n  p.draw = function() {\r\n    p.background(\"white\");\r\n    let stripes = [];\r\n    for (let y = 0; y <= p.height + 0; y += SIZE) {\r\n      stripes.push({\r\n        y,\r\n        distFromMouse: p.abs(y - p.mouseY),\r\n      });\r\n    }\r\n    const MAX_DIST = p.max(...stripes.map(s => s.distFromMouse));\r\n    stripes.forEach(({ y, distFromMouse }, i) => {\r\n      const MV = p.map(\r\n        distFromMouse,\r\n        0,\r\n        MAX_DIST,\r\n        p.map(p.mouseY, 0, p.height, 7, 2),\r\n        0\r\n      );\r\n      stripes[i].ex = p.pow(MV, MV);\r\n    });\r\n    const EX_TOTAL = stripes.reduce((prev, { ex }) => prev + ex, 0);\r\n    let bezierHandles = [0];\r\n    let bhy = 0;\r\n    stripes.forEach(({ ex }) => {\r\n      const HP = ex / EX_TOTAL;\r\n      bezierHandles.push(bhy + p.height * HP);\r\n      bhy += p.height * HP;\r\n    });\r\n    let totalHeight = 0;\r\n    stripes.forEach(({ y, ex }, i) => {\r\n      const HP = ex / EX_TOTAL;\r\n      const H = p.height * HP;\r\n      const BH_TOP = bezierHandles[i];\r\n      const BH_BOTTOM = bezierHandles[i + 1];\r\n      p.fill(i % 2 ? 255 : 0);\r\n      p.beginShape();\r\n      p.vertex(0, y);\r\n      p.quadraticVertex(p.mouseX, BH_TOP, p.width, y);\r\n      p.vertex(p.width, y + SIZE);\r\n      p.quadraticVertex(p.mouseX, BH_BOTTOM, 0, y + SIZE);\r\n      p.endShape();\r\n    });\r\n  };\r\n\r\n  p.touchMoved = function() {\r\n    if (\r\n      p.mouseX >= 0 &&\r\n      p.mouseY >= 0 &&\r\n      p.mouseX <= p.width &&\r\n      p.mouseY <= p.height\r\n    ) {\r\n      return false;\r\n    }\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"Move pointer or finger over sketch.\" />\r\n);\r\n"],"sourceRoot":""}