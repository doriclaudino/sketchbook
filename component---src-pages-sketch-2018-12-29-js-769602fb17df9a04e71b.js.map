{"version":3,"sources":["webpack:///./src/pages/sketch/2018/12/29.js"],"names":["sketch","p","circleSize","gridGap","focusX","focusY","circles","distance","direction","userControl","Circle","x","y","this","draw","noFill","i","stroke","ellipse","lerp","map","dist","width","height","setup","createCanvas","random","CIRCLES_X","floor","CIRCLES_Y","GRIDGAP_X","GRIDGAP_Y","push","background","mouseX","cos","frameCount","mouseY","sin","forEach","circle","mouseClicked","touchMoved","location","path","pathname","description"],"mappings":"8FAAA,6CAGMA,EAAS,SAASC,GACtB,IAAIC,EAEAC,EACAC,EACAC,EAHAC,EAAU,GAIVC,EAAW,EACXC,EAAY,EACZC,GAAc,EAEZC,EAVmB,WAWvB,WAAYC,EAAGC,GACbC,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EAbY,mBAevBE,KAAA,WACEb,EAAEc,SACF,IAAK,IAAIC,EAAI,EAAGA,EAAIb,EAASa,IAC3Bf,EAAEgB,OAAF,iBAA0BD,EAAIb,EAA9B,KACAF,EAAEiB,QACAjB,EAAEkB,KAAKN,KAAKF,EAAGP,EAAQY,EAAIb,EAAU,GACrCF,EAAEkB,KAAKN,KAAKD,EAAGP,EAAQW,EAAIb,EAAU,GACrCD,EACEc,EAAIb,EACJF,EAAEmB,IACAnB,EAAEoB,KAAKR,KAAKF,EAAGE,KAAKD,EAAGR,EAAQC,GAC/B,EACAJ,EAAEoB,KAAK,EAAG,EAAGpB,EAAEqB,MAAOrB,EAAEsB,QACX,EAAbrB,GACCA,GACD,KA9Ba,KAqCzBD,EAAEuB,MAAQ,WACRvB,EAAEwB,aAAa,IAAK,KACpBvB,EAAaD,EAAEyB,OAAO,IAAK,KAC3BvB,EAAUD,EAAa,GACvBE,EAASH,EAAEqB,MAAQ,EACnBjB,EAASJ,EAAEsB,OAAS,EAKpB,IAJA,IAAMI,EAAY1B,EAAE2B,OAAO3B,EAAEqB,MAAQnB,IAAYD,EAAaC,IACxD0B,EAAY5B,EAAE2B,OAAO3B,EAAEsB,OAASpB,IAAYD,EAAaC,IACzD2B,GAAa7B,EAAEqB,MAAQK,EAAYzB,IAAeyB,EAAY,GAC9DI,GAAa9B,EAAEsB,OAASM,EAAY3B,IAAe2B,EAAY,GAE/DlB,GAAKmB,EAAY5B,EAAa,EAClCS,GAAKV,EAAEqB,MAAQpB,EACfS,GAAKT,EAAa4B,EAElB,IACE,IAAIlB,GAAKmB,EAAY7B,EAAa,EAClCU,GAAKX,EAAEsB,OAASrB,EAChBU,GAAKV,EAAa6B,EAElBzB,EAAQ0B,KAAK,IAAItB,EAAOC,EAAGC,KAKjCX,EAAEa,KAAO,WACPb,EAAEgC,WAAW,KACb7B,EAASK,EACLR,EAAEiC,OACFjC,EAAEqB,MAAQ,EAAIrB,EAAEkC,IAAIlC,EAAEmC,YAAwB,EAAVjC,IAAgBI,EACxDF,EAASI,EACLR,EAAEoC,OACFpC,EAAEsB,OAAS,EAAItB,EAAEqC,IAAIrC,EAAEmC,YAAwB,EAAVjC,IAAgBI,EACzDD,EAAQiC,SAAQ,SAAAC,GAAM,OAAIA,EAAO1B,WACjCP,GAAYC,KACKP,EAAEqB,MAAQ,IAAGd,GAAa,GACvCD,EAAWL,IAAYM,EAAY,IAGzCP,EAAEwC,aAAe,WACfhC,GAAeA,GAGjBR,EAAEyC,WAAa,WACb,GACEzC,EAAEiC,QAAU,GACZjC,EAAEoC,QAAU,GACZpC,EAAEiC,QAAUjC,EAAEqB,OACdrB,EAAEoC,QAAUpC,EAAEsB,OAEd,OAAO,IAKE,0BAAGoB,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CACE3C,OAAQA,EACR4C,KAAMD,EAASE,SACfC,YAAY","file":"component---src-pages-sketch-2018-12-29-js-769602fb17df9a04e71b.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\n\r\nconst sketch = function(p) {\r\n  let circleSize;\r\n  let circles = [];\r\n  let gridGap;\r\n  let focusX;\r\n  let focusY;\r\n  let distance = 0;\r\n  let direction = 1;\r\n  let userControl = false;\r\n\r\n  class Circle {\r\n    constructor(x, y) {\r\n      this.x = x;\r\n      this.y = y;\r\n    }\r\n    draw() {\r\n      p.noFill();\r\n      for (let i = 0; i < gridGap; i++) {\r\n        p.stroke(`rgba(0, 0, 0, ${i / gridGap})`);\r\n        p.ellipse(\r\n          p.lerp(this.x, focusX, i / gridGap / 2),\r\n          p.lerp(this.y, focusY, i / gridGap / 2),\r\n          circleSize -\r\n            i * gridGap +\r\n            p.map(\r\n              p.dist(this.x, this.y, focusX, focusY),\r\n              0,\r\n              p.dist(0, 0, p.width, p.height),\r\n              circleSize * 2,\r\n              -circleSize,\r\n              true\r\n            )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(660, 840);\r\n    circleSize = p.random(100, 250);\r\n    gridGap = circleSize / 10;\r\n    focusX = p.width / 2;\r\n    focusY = p.height / 2;\r\n    const CIRCLES_X = p.floor((p.width - gridGap) / (circleSize + gridGap));\r\n    const CIRCLES_Y = p.floor((p.height - gridGap) / (circleSize + gridGap));\r\n    const GRIDGAP_X = (p.width - CIRCLES_X * circleSize) / (CIRCLES_X + 1);\r\n    const GRIDGAP_Y = (p.height - CIRCLES_Y * circleSize) / (CIRCLES_Y + 1);\r\n    for (\r\n      let x = -GRIDGAP_X - circleSize / 2;\r\n      x <= p.width + circleSize;\r\n      x += circleSize + GRIDGAP_X\r\n    ) {\r\n      for (\r\n        let y = -GRIDGAP_Y - circleSize / 2;\r\n        y <= p.height + circleSize;\r\n        y += circleSize + GRIDGAP_Y\r\n      ) {\r\n        circles.push(new Circle(x, y));\r\n      }\r\n    }\r\n  };\r\n\r\n  p.draw = function() {\r\n    p.background(255);\r\n    focusX = userControl\r\n      ? p.mouseX\r\n      : p.width / 2 + p.cos(p.frameCount / (gridGap * 2)) * distance;\r\n    focusY = userControl\r\n      ? p.mouseY\r\n      : p.height / 2 + p.sin(p.frameCount / (gridGap * 2)) * distance;\r\n    circles.forEach(circle => circle.draw());\r\n    distance += direction;\r\n    if (distance === p.width / 2) direction = -1;\r\n    if (distance < circleSize) direction = 1;\r\n  };\r\n\r\n  p.mouseClicked = function() {\r\n    userControl = !userControl;\r\n  };\r\n\r\n  p.touchMoved = function() {\r\n    if (\r\n      p.mouseX >= 0 &&\r\n      p.mouseY >= 0 &&\r\n      p.mouseX <= p.width &&\r\n      p.mouseY <= p.height\r\n    ) {\r\n      return false;\r\n    }\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout\r\n    sketch={sketch}\r\n    path={location.pathname}\r\n    description=\"\r\n      Click or tap to toggle user control of the sketch. Reload page for a\r\n      different variation.\r\n    \"\r\n  />\r\n);\r\n"],"sourceRoot":""}