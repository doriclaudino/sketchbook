{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/07.js"],"names":["sketch","p","marginH","marginV","vertices","maxDist","setup","createCanvas","width","height","Array","from","vector","createVector","constrain","randomGaussian","reached","push","dist","background","draw","reachedVector","unreachedIndex","reachedVertices","filter","v","shortestDist","forEach","vertex","i","thisDist","x","y","strokeWeight","map","line","length","noLoop","location","path","pathname","description"],"mappings":"6JAGMA,EAAS,SAASC,GACtB,IAEIC,EACAC,EACAC,EAGAC,EAEJJ,EAAEK,MAAQ,WACRL,EAAEM,aAAa,IAAK,KACpBL,GAAWD,EAAEO,MAAQP,EAAEO,MAXL,cAW4B,EAC9CL,GAAWF,EAAEQ,OAASR,EAAEQ,OAZN,cAY8B,GAChDL,EAAWM,MAAMC,KAAKD,MAAM,OAAO,iBAAO,CACxCE,OAAQX,EAAEY,aACRZ,EAAEa,UACAb,EAAEc,eAAed,EAAEO,MAAQ,EAAGP,EAAEO,MAhBpB,aACA,GAgBZN,EACAD,EAAEO,MAAQN,GAEZD,EAAEa,UACAb,EAAEc,eAAed,EAAEQ,OAAS,EAAGR,EAAEQ,OArBrB,aACA,GAqBZN,EACAF,EAAEQ,OAASN,IAGfa,SAAS,OAEF,GAAK,CACZJ,OAAQX,EAAEY,aAAaZ,EAAEO,MAAQ,EAAGP,EAAEQ,OAAS,GAC/CO,SAAS,GAEXZ,EAASa,KAAK,CACZL,OAAQX,EAAEY,aAAaX,EAASC,GAChCa,SAAS,IAEXZ,EAASa,KAAK,CACZL,OAAQX,EAAEY,aAAaZ,EAAEO,MAAQN,EAASC,GAC1Ca,SAAS,IAEXZ,EAASa,KAAK,CACZL,OAAQX,EAAEY,aAAaX,EAASD,EAAEQ,OAASN,GAC3Ca,SAAS,IAEXZ,EAASa,KAAK,CACZL,OAAQX,EAAEY,aAAaZ,EAAEO,MAAQN,EAASD,EAAEQ,OAASN,GACrDa,SAAS,IAEXX,EAAUJ,EAAEiB,KAAKhB,EAASC,EAASF,EAAEO,MAAQN,EAASD,EAAEQ,OAASN,GACjEF,EAAEkB,WAAW,MAGflB,EAAEmB,KAAO,WACP,IAEIC,EACAC,EAHEC,EAAkBnB,EAASoB,QAAO,SAAAC,GAAC,OAAIA,EAAET,WAC3CU,EAAerB,EAGnBD,EAASuB,SAAQ,SAACC,EAAQC,GACnBD,EAAOZ,SACVO,EAAgBI,SAAQ,YAAiB,IAAdf,EAAa,EAAbA,OACnBkB,EAAW7B,EAAEiB,KACjBN,EAAOmB,EACPnB,EAAOoB,EACPJ,EAAOhB,OAAOmB,EACdH,EAAOhB,OAAOoB,GAEZF,EAAWJ,IACbA,EAAeI,EACfR,EAAiBO,EACjBR,EAAgBT,SAKxBX,EAAEgC,aACAhC,EAAEiC,IACAjC,EAAEiB,KACAjB,EAAEO,MAAQ,EACVP,EAAEQ,OAAS,EACXL,EAASkB,GAAgBV,OAAOmB,EAChC3B,EAASkB,GAAgBV,OAAOoB,GAElC,EACA3B,EAAU,EACV,EAnFc,IAuFlBJ,EAAEkC,KACAd,EAAcU,EACdV,EAAcW,EACd5B,EAASkB,GAAgBV,OAAOmB,EAChC3B,EAASkB,GAAgBV,OAAOoB,GAElC5B,EAASkB,GAAgBN,SAAU,EAC/BZ,EAASoB,QAAO,SAAAC,GAAC,OAAIA,EAAET,WAASoB,SAAWhC,EAASgC,QACtDnC,EAAEoC,WAKO,0BAAGC,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CAActC,OAAQA,EAAQuC,KAAMD,EAASE,SAAUC,YAAY","file":"component---src-pages-sketch-2019-01-07-js-4921b4c31161e53b0a87.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\n\r\nconst sketch = function(p) {\r\n  const goldenRatio = 1.6180339887;\r\n  const magicNumber = 5;\r\n  let marginH;\r\n  let marginV;\r\n  let vertices;\r\n  let pointTestIndex = 0;\r\n  let currentPoint;\r\n  let maxDist;\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(660, 840);\r\n    marginH = (p.width - p.width / goldenRatio) / 2;\r\n    marginV = (p.height - p.height / goldenRatio) / 2;\r\n    vertices = Array.from(Array(2500), () => ({\r\n      vector: p.createVector(\r\n        p.constrain(\r\n          p.randomGaussian(p.width / 2, p.width / goldenRatio / magicNumber),\r\n          marginH,\r\n          p.width - marginH\r\n        ),\r\n        p.constrain(\r\n          p.randomGaussian(p.height / 2, p.height / goldenRatio / magicNumber),\r\n          marginV,\r\n          p.height - marginV\r\n        )\r\n      ),\r\n      reached: false,\r\n    }));\r\n    vertices[0] = {\r\n      vector: p.createVector(p.width / 2, p.height / 2),\r\n      reached: true,\r\n    };\r\n    vertices.push({\r\n      vector: p.createVector(marginH, marginV),\r\n      reached: false,\r\n    });\r\n    vertices.push({\r\n      vector: p.createVector(p.width - marginH, marginV),\r\n      reached: false,\r\n    });\r\n    vertices.push({\r\n      vector: p.createVector(marginH, p.height - marginV),\r\n      reached: false,\r\n    });\r\n    vertices.push({\r\n      vector: p.createVector(p.width - marginH, p.height - marginV),\r\n      reached: false,\r\n    });\r\n    maxDist = p.dist(marginH, marginV, p.width - marginH, p.height - marginV);\r\n    p.background(255);\r\n  };\r\n\r\n  p.draw = function() {\r\n    const reachedVertices = vertices.filter(v => v.reached);\r\n    let shortestDist = maxDist;\r\n    let reachedVector;\r\n    let unreachedIndex;\r\n    vertices.forEach((vertex, i) => {\r\n      if (!vertex.reached) {\r\n        reachedVertices.forEach(({ vector }) => {\r\n          const thisDist = p.dist(\r\n            vector.x,\r\n            vector.y,\r\n            vertex.vector.x,\r\n            vertex.vector.y\r\n          );\r\n          if (thisDist < shortestDist) {\r\n            shortestDist = thisDist;\r\n            unreachedIndex = i;\r\n            reachedVector = vector;\r\n          }\r\n        });\r\n      }\r\n    });\r\n    p.strokeWeight(\r\n      p.map(\r\n        p.dist(\r\n          p.width / 2,\r\n          p.height / 2,\r\n          vertices[unreachedIndex].vector.x,\r\n          vertices[unreachedIndex].vector.y\r\n        ),\r\n        0,\r\n        maxDist / 2,\r\n        1,\r\n        magicNumber\r\n      )\r\n    );\r\n    p.line(\r\n      reachedVector.x,\r\n      reachedVector.y,\r\n      vertices[unreachedIndex].vector.x,\r\n      vertices[unreachedIndex].vector.y\r\n    );\r\n    vertices[unreachedIndex].reached = true;\r\n    if (vertices.filter(v => v.reached).length === vertices.length) {\r\n      p.noLoop();\r\n    }\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"Be patient. Reload page for a different variation.\" />\r\n);\r\n"],"sourceRoot":""}