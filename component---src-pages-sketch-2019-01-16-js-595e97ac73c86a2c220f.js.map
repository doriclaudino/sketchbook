{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/16.js"],"names":["sketch","p","circleCount","drawing","circles","viewGuides","speeds","Array","fill","map","_","i","guideColor","alpha","color","setup","createCanvas","ceil","random","createImage","width","height","thisSpeed","filter","s","push","r","HALF_PI","speed","TWO_PI","size","direction","lastPoint","draw","background","frameRate","image","axis","x","y","forEach","c","X","cos","Y","sin","ALPHA","noFill","stroke","strokeWeight","ellipse","noStroke","l","set","floor","lerp","updatePixels","mousePressed","location","path","pathname","description"],"mappings":"mJAGMA,EAAS,SAASC,GACtB,IAAIC,EAGAC,EAFAC,EAAU,GACVC,GAAa,EAEbC,EAAS,IAAIC,MAAM,IAAIC,OAAOC,KAAI,SAACC,EAAGC,GAAJ,OAAWA,EAAI,GAAK,MAG1D,SAASC,EAAWC,GAClB,OAAOZ,EAAEa,MAAM,IAAK,EAAG,EAAGD,GAG5BZ,EAAEc,MAAQ,WACRd,EAAEe,aAAa,IAAK,KACpBd,EAAcD,EAAEgB,KAAKhB,EAAEiB,OAAO,IAAM,EACpCf,EAAUF,EAAEkB,YAAYlB,EAAEmB,MAAOnB,EAAEoB,QACnC,IAJmB,eAIVV,GACP,IAAMW,EAAYrB,EAAEiB,OAAOZ,GAC3BA,EAASA,EAAOiB,QAAO,SAAAC,GAAC,OAAIA,IAAMF,KAClClB,EAAQqB,KAAK,CACXC,EAAe,EAAZzB,EAAE0B,QACLC,MAAON,EAAYrB,EAAE4B,OACrBC,KAAO7B,EAAEmB,MAAQlB,EAAeD,EAAEiB,OAAO,GAAK,GAC9Ca,UAAW9B,EAAEiB,OAAO,CAAC,GAAI,IACzBc,UAAW,QARNrB,EAAI,EAAGA,EAAIT,EAAaS,IAAM,KAazCV,EAAEgC,KAAO,WACPhC,EAAEiC,WAAW,KACbjC,EAAEkC,UAAU9B,EAAa,GAAK,IAC9BJ,EAAEmC,MAAMjC,EAAS,EAAG,GACpB,IAAIkC,EAAO,CACTC,EAAGrC,EAAEmB,MAAQ,EACbmB,EAAGtC,EAAEoB,OAAS,GAEhBjB,EAAQoC,SAAQ,SAACC,EAAG9B,GAClB,IAAM+B,EAAIL,EAAKC,EAAIrC,EAAE0C,IAAIF,EAAEf,IAAMe,EAAEX,KAAO,GACpCc,EAAIP,EAAKE,EAAItC,EAAE4C,IAAIJ,EAAEf,IAAMe,EAAEX,KAAO,GAC1C,GAAIzB,EAAY,CACd,IAAMyC,EAAQ7C,EAAEQ,IAAIE,EAAG,EAAGT,EAAc,EAAG,GAAS,KACpDD,EAAE8C,SACF9C,EAAE+C,OAAO,IAAK,IAAK,IAAKF,GACxB7C,EAAEgD,aAAa,GACfhD,EAAEiD,QAAQb,EAAKC,EAAGD,EAAKE,EAAGE,EAAEX,MAC5B7B,EAAE+C,OAAOpC,EAAWkC,IACpB7C,EAAEgD,aAAa,GACfhD,EAAEiD,QAAQb,EAAKC,EAAGD,EAAKE,EAAGE,EAAEX,MAC5B7B,EAAEkD,WACFlD,EAAEO,KAAK,IAAK,IAAK,IAAKsC,GACtB7C,EAAEiD,QAAQR,EAAGE,EAAGjC,IAAMT,EAAc,EAAI,GAAK,GAC7CD,EAAEO,KAAKI,EAAWkC,IAClB7C,EAAEiD,QAAQR,EAAGE,EAAGjC,IAAMT,EAAc,EAAI,EAAI,GAE9C,GAAIS,IAAMT,EAAc,GAAKuC,EAAET,WACzBU,GAAK,GAAKA,GAAKzC,EAAEmB,OAASwB,GAAK,GAAKA,GAAK3C,EAAEoB,OAAQ,CACrD,IAAK,IAAI+B,EAAI,EAAGA,EAAI,EAAGA,GAAK,IAC1BjD,EAAQkD,IACNpD,EAAEqD,MAAMrD,EAAEsD,KAAKb,EAAGD,EAAET,UAAUM,EAAGc,IACjCnD,EAAEqD,MAAMrD,EAAEsD,KAAKX,EAAGH,EAAET,UAAUO,EAAGa,IACjCnD,EAAEa,MAAM,IAGZX,EAAQqD,eAGZnB,EAAO,CACLC,EAAGI,EACHH,EAAGK,GAELxC,EAAQO,GAAGqB,UAAYK,EACvBjC,EAAQO,GAAGe,GAAKe,EAAEb,MAAQxB,EAAQO,GAAGoB,cAIzC9B,EAAEwD,aAAe,WACfpD,GAAcA,IAIH,0BAAGqD,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CACE1D,OAAQA,EACR2D,KAAMD,EAASE,SACfC,YAAY","file":"component---src-pages-sketch-2019-01-16-js-595e97ac73c86a2c220f.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\n\r\nconst sketch = function(p) {\r\n  let circleCount;\r\n  let circles = [];\r\n  let viewGuides = false;\r\n  let drawing;\r\n  let speeds = new Array(30).fill().map((_, i) => (i + 1) / 30);\r\n  let speed;\r\n\r\n  function guideColor(alpha) {\r\n    return p.color(255, 0, 0, alpha);\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(660, 840);\r\n    circleCount = p.ceil(p.random(5)) + 1;\r\n    drawing = p.createImage(p.width, p.height);\r\n    for (let i = 0; i < circleCount; i++) {\r\n      const thisSpeed = p.random(speeds);\r\n      speeds = speeds.filter(s => s !== thisSpeed);\r\n      circles.push({\r\n        r: p.HALF_PI * 3,\r\n        speed: thisSpeed / p.TWO_PI,\r\n        size: (p.width / circleCount) * p.random(0.5, 1),\r\n        direction: p.random([1, -1]),\r\n        lastPoint: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  p.draw = function() {\r\n    p.background(255);\r\n    p.frameRate(viewGuides ? 15 : 30);\r\n    p.image(drawing, 0, 0);\r\n    let axis = {\r\n      x: p.width / 2,\r\n      y: p.height / 2,\r\n    };\r\n    circles.forEach((c, i) => {\r\n      const X = axis.x + p.cos(c.r) * (c.size / 2);\r\n      const Y = axis.y + p.sin(c.r) * (c.size / 2);\r\n      if (viewGuides) {\r\n        const ALPHA = p.map(i, 0, circleCount - 1, 255 / 5, 255);\r\n        p.noFill();\r\n        p.stroke(255, 255, 255, ALPHA);\r\n        p.strokeWeight(5);\r\n        p.ellipse(axis.x, axis.y, c.size);\r\n        p.stroke(guideColor(ALPHA));\r\n        p.strokeWeight(1);\r\n        p.ellipse(axis.x, axis.y, c.size);\r\n        p.noStroke();\r\n        p.fill(255, 255, 255, ALPHA);\r\n        p.ellipse(X, Y, i === circleCount - 1 ? 12 : 6);\r\n        p.fill(guideColor(ALPHA));\r\n        p.ellipse(X, Y, i === circleCount - 1 ? 6 : 3);\r\n      }\r\n      if (i === circleCount - 1 && c.lastPoint) {\r\n        if (X >= 0 && X <= p.width && Y >= 0 && Y <= p.height) {\r\n          for (let l = 0; l < 1; l += 0.01) {\r\n            drawing.set(\r\n              p.floor(p.lerp(X, c.lastPoint.x, l)),\r\n              p.floor(p.lerp(Y, c.lastPoint.y, l)),\r\n              p.color(0)\r\n            );\r\n          }\r\n          drawing.updatePixels();\r\n        }\r\n      }\r\n      axis = {\r\n        x: X,\r\n        y: Y,\r\n      };\r\n      circles[i].lastPoint = axis;\r\n      circles[i].r += c.speed * circles[i].direction;\r\n    });\r\n  };\r\n\r\n  p.mousePressed = function() {\r\n    viewGuides = !viewGuides;\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout\r\n    sketch={sketch}\r\n    path={location.pathname}\r\n    description=\"\r\n      Reload page for a different variation. Click or tap sketch to toggle\r\n      guides.\r\n    \"\r\n  />\r\n);\r\n"],"sourceRoot":""}