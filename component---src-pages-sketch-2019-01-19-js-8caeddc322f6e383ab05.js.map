{"version":3,"sources":["webpack:///./src/pages/sketch/2019/01/19.js"],"names":["sketch","p","myFont","maxDist","vectors","preload","loadFont","withPrefix","setup","pixelDensity","createCanvas","background","stroke","string","split","points","forEach","str","line","concat","textToPoints","sampleFactor","i","x","y","noiseFactor","map","length","push","vector","createVector","noise","reached","reachedBy","dist","width","height","draw","distance","ceil","strokeWeight","reachedByIndex","unreachedIndex","shortestDist","uv","ui","rv","ri","thisDist","filter","v","noLoop","location","path","pathname"],"mappings":"iKAIMA,EAAS,SAASC,GACtB,IACIC,EAIAC,EAFAC,EAAU,GAIdH,EAAEI,QAAU,WACVH,EAASD,EAAEK,SAASC,qBAAW,gCAGjCN,EAAEO,MAAQ,WACRP,EAAEQ,aAAa,GACfR,EAAES,aAAa,IAAK,KACpBT,EAAEU,WAAW,GACbV,EAAEW,OAAO,KACT,IAAMC,EAAS,iDAAiDC,MAAM,MAClEC,EAAS,GACbF,EAAOG,SAAQ,SAACC,EAAKC,GACnBH,EAASA,EAAOI,OACdjB,EAAOkB,aAAaH,EAAK,GApBb,KAoB8BC,EAAO,GApBrC,IAoBoD,CAC9DG,aAAc,GAAKH,EAAO,SAIhCH,EAAOC,SAAQ,WAAWM,GAAO,IAAfC,EAAc,EAAdA,EAAGC,EAAW,EAAXA,EACbC,EAAcxB,EAAEyB,IAAIJ,EAAG,EAAGP,EAAOY,OAAQ,EAAG,GAClDvB,EAAQwB,KAAK,CACXC,OAAQ5B,EAAE6B,aACRP,EAAItB,EAAEyB,IAAIzB,EAAE8B,MAAMR,EAAGD,GAAI,EAAG,GAAIG,EAAaA,GAC7CD,EAAIvB,EAAEyB,IAAIzB,EAAE8B,MAAMP,EAAGF,GAAI,EAAG,GAAIG,EAAaA,IAE/CO,SAAS,EACTC,UAAW,OAGf7B,EAAQ,GAAG4B,SAAU,EACrB5B,EAAQ,GAAG6B,WAAa,EACxB9B,EAAUF,EAAEiC,KAAK,EAAG,EAAGjC,EAAEkC,MAAOlC,EAAEmC,SAGpCnC,EAAEoC,KAAO,WACPpC,EAAEU,WAAW,GACbP,EAAQY,SAAQ,WAAiCM,GAAO,IAArCO,EAAoC,EAApCA,OAAQG,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,UAClC,GAAID,GAAWC,GAAa,EAAG,CAAC,IAAD,EACZ7B,EAAQ6B,GAAWJ,OAA5BN,EADqB,EACrBA,EAAGC,EADkB,EAClBA,EACLc,EAAWrC,EAAEsC,KAAKtC,EAAEiC,KAAKX,EAAGC,EAAGK,EAAON,EAAGM,EAAOL,IACtDvB,EAAEuC,aAAavC,EAAEyB,IAAIY,EAAU,EAAG,GAAI,EAAG,GAAG,IAC5CrC,EAAEiB,KAAKK,EAAGC,EAAGK,EAAON,EAAGM,EAAOL,OAGlC,IACIiB,EACAC,EAFAC,EAAexC,EAGnBC,EAAQY,SAAQ,SAAC4B,EAAIC,GACdD,EAAGZ,SACN5B,EAAQY,SAAQ,SAAC8B,EAAIC,GACnB,GAAID,EAAGd,QAAS,CACd,IAAMgB,EAAW/C,EAAEiC,KACjBU,EAAGf,OAAON,EACVqB,EAAGf,OAAOL,EACVsB,EAAGjB,OAAON,EACVuB,EAAGjB,OAAOL,GAERwB,EAAWL,IACbA,EAAeK,EACfN,EAAiBG,EACjBJ,EAAiBM,UAM3B3C,EAAQsC,GAAgBV,SAAU,EAClC5B,EAAQsC,GAAgBT,UAAYQ,EAEhCrC,EAAQ6C,QAAO,SAAAC,GAAC,OAAIA,EAAElB,WAASL,SAAWvB,EAAQuB,QACpD1B,EAAEkD,WAKO,0BAAGC,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CAAcpD,OAAQA,EAAQqD,KAAMD,EAASE","file":"component---src-pages-sketch-2019-01-19-js-8caeddc322f6e383ab05.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\nimport { withPrefix } from \"gatsby\";\r\n\r\nconst sketch = function(p) {\r\n  const FONT_SIZE = 130;\r\n  let myFont;\r\n  let vectorCount;\r\n  let vectors = [];\r\n  let boundary;\r\n  let maxDist;\r\n\r\n  p.preload = function() {\r\n    myFont = p.loadFont(withPrefix(\"/assets/NewsCycle-Bold.ttf\"));\r\n  };\r\n\r\n  p.setup = function() {\r\n    p.pixelDensity(1);\r\n    p.createCanvas(660, 840);\r\n    p.background(0);\r\n    p.stroke(255);\r\n    const string = \"SELF-\\nESTEEM\\nSELF-\\nRELIANCE\\nSELF-\\nCONTROL\".split(\"\\n\");\r\n    let points = [];\r\n    string.forEach((str, line) => {\r\n      points = points.concat(\r\n        myFont.textToPoints(str, 25, FONT_SIZE * (line + 1), FONT_SIZE, {\r\n          sampleFactor: 1 / (line + 6),\r\n        })\r\n      );\r\n    });\r\n    points.forEach(({ x, y }, i) => {\r\n      const noiseFactor = p.map(i, 0, points.length, 0, 8);\r\n      vectors.push({\r\n        vector: p.createVector(\r\n          x + p.map(p.noise(x, i), 0, 1, -noiseFactor, noiseFactor),\r\n          y + p.map(p.noise(y, i), 0, 1, -noiseFactor, noiseFactor)\r\n        ),\r\n        reached: false,\r\n        reachedBy: 0,\r\n      });\r\n    });\r\n    vectors[0].reached = true;\r\n    vectors[0].reachedBy = -1;\r\n    maxDist = p.dist(0, 0, p.width, p.height);\r\n  };\r\n\r\n  p.draw = function() {\r\n    p.background(0);\r\n    vectors.forEach(({ vector, reached, reachedBy }, i) => {\r\n      if (reached && reachedBy > -1) {\r\n        const { x, y } = vectors[reachedBy].vector;\r\n        const distance = p.ceil(p.dist(x, y, vector.x, vector.y));\r\n        p.strokeWeight(p.map(distance, 5, 20, 1, 6, true));\r\n        p.line(x, y, vector.x, vector.y);\r\n      }\r\n    });\r\n    let shortestDist = maxDist;\r\n    let reachedByIndex;\r\n    let unreachedIndex;\r\n    vectors.forEach((uv, ui) => {\r\n      if (!uv.reached) {\r\n        vectors.forEach((rv, ri) => {\r\n          if (rv.reached) {\r\n            const thisDist = p.dist(\r\n              uv.vector.x,\r\n              uv.vector.y,\r\n              rv.vector.x,\r\n              rv.vector.y\r\n            );\r\n            if (thisDist < shortestDist) {\r\n              shortestDist = thisDist;\r\n              unreachedIndex = ui;\r\n              reachedByIndex = ri;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    vectors[unreachedIndex].reached = true;\r\n    vectors[unreachedIndex].reachedBy = reachedByIndex;\r\n\r\n    if (vectors.filter(v => v.reached).length === vectors.length) {\r\n      p.noLoop();\r\n    }\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout sketch={sketch} path={location.pathname} />\r\n);\r\n"],"sourceRoot":""}