{"version":3,"sources":["webpack:///./src/pages/sketch/2019/06/30.js","webpack:///./src/lib/lerpLine.js"],"names":["sketch","p","w","h","DIR","random","GRID_SIZE","SIZES","grid","drawLines","xStart","yStart","xEnd","yEnd","dir","y","A","map","TWO_PI","COS","cos","stroke","strokeWeight","line","setup","createCanvas","background","fill","strokeCap","SQUARE","rectMode","CORNERS","floor","width","height","xx","push","yy","x","visited","draw","concat","filter","overlap","size","Math","max","s","length","noLoop","location","path","pathname","description","x1","y1","x2","y2","rate","showFirstDot","noisy","thisRate","dist","l","point","lerp"],"mappings":"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","file":"component---src-pages-sketch-2019-06-30-js-5c9f3441b9a00c780ba3.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\nimport lerpLine from \"~lib/lerpLine\";\r\n\r\nconst sketch = function(p) {\r\n  const DIR = p.random([true, false]);\r\n  const GRID_SIZE = 15;\r\n  const SIZES = [1, 8, 13];\r\n\r\n  let grid = [];\r\n  let w;\r\n  let h;\r\n\r\n  function drawLines(xStart, yStart, xEnd, yEnd, dir = DIR) {\r\n    for (let y = yStart; y <= yEnd; y += GRID_SIZE) {\r\n      const A = p.map(y, yStart, yEnd, 0, p.TWO_PI);\r\n      const COS = p.cos(A);\r\n\r\n      p.stroke(255);\r\n      p.strokeWeight(GRID_SIZE);\r\n      p.line(xStart, y, xEnd, y);\r\n\r\n      p.stroke(0);\r\n      p.strokeWeight(\r\n        p.map(COS, -1, 1, dir ? 1 : GRID_SIZE * 0.8, dir ? GRID_SIZE * 0.8 : 1)\r\n      );\r\n      p.line(xStart, y, xEnd, y);\r\n    }\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(660, 840);\r\n    p.background(255);\r\n    p.fill(255);\r\n    p.strokeCap(p.SQUARE);\r\n    p.rectMode(p.CORNERS);\r\n\r\n    w = p.floor(p.width / GRID_SIZE);\r\n    h = p.floor(p.height / GRID_SIZE);\r\n\r\n    for (let xx = 0; xx < w; xx++) {\r\n      grid.push([]);\r\n      for (let yy = 0; yy < h; yy++) {\r\n        grid[xx].push({\r\n          x: xx,\r\n          y: yy,\r\n          visited: false,\r\n        });\r\n      }\r\n    }\r\n\r\n    drawLines(0, 0, p.width, p.height, !DIR);\r\n  };\r\n\r\n  p.draw = function() {\r\n    const { x, y } = p.random(\r\n      [].concat(...grid).filter(({ visited }) => !visited)\r\n    );\r\n\r\n    if (!grid[x][y].visited) {\r\n      let size = Math.max(...SIZES);\r\n      let overlap;\r\n\r\n      do {\r\n        overlap = false;\r\n        for (let xx = x; xx < size + x; xx++) {\r\n          for (let yy = y; yy < size + y; yy++) {\r\n            if (x + size > w || y + size > h || grid[xx][yy].visited) {\r\n              overlap = true;\r\n            }\r\n          }\r\n        }\r\n        if (overlap) {\r\n          size = Math.max(...SIZES.filter(s => s < size));\r\n        }\r\n      } while (overlap);\r\n\r\n      size > 1 &&\r\n        drawLines(\r\n          x * GRID_SIZE,\r\n          y * GRID_SIZE,\r\n          x * GRID_SIZE + size * GRID_SIZE,\r\n          y * GRID_SIZE + size * GRID_SIZE\r\n        );\r\n\r\n      for (let xx = x; xx < size + x; xx++) {\r\n        for (let yy = y; yy < size + y; yy++) {\r\n          grid[xx][yy].visited = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (![].concat(...grid).filter(({ visited }) => !visited).length) {\r\n      p.noLoop();\r\n    }\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout sketch={sketch} path={location.pathname} description=\"\" />\r\n);\r\n","/**\n * Creates a line of points at a specified interval (the rate)\n *\n * @param {obj} p The current p5.js drawing context\n * @param {*} x1\n * @param {*} y1\n * @param {*} x2\n * @param {*} y2\n * @param {*} rate Number between 0 and 1 to determine how often to draw a point\n * @param {*} showFirstDot Defaults to true\n * @param {*} noisy Defaults to true\n */\nexport default function(\n  p,\n  x1,\n  y1,\n  x2,\n  y2,\n  rate,\n  showFirstDot = true,\n  noisy = true\n) {\n  const thisRate = Math.max(rate, 0.01 / p.dist(x1, y1, x2, y2));\n\n  for (let l = 0; l < 1; l += thisRate) {\n    if (l === 0 && !showFirstDot) continue;\n    if ((noisy && p.random() > l) || !noisy) {\n      p.point(p.lerp(x1, x2, l), p.lerp(y1, y2, l));\n    }\n  }\n}\n"],"sourceRoot":""}