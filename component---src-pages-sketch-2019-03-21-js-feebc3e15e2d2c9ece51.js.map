{"version":3,"sources":["webpack:///./src/pages/sketch/2019/03/21.js"],"names":["sketch","p","Particle","this","color","random","location","createVector","width","height","prevLocations","velocity","p5","Vector","random2D","update","mouse","mouseX","mouseY","sub","setMag","add","push","x","y","length","SIZE","slice","limit","draw","beginShape","forEach","prev","i","fill","lerpColor","ellipse","endShape","particles","setup","createCanvas","colorMode","HSB","Array","from","noStroke","background","particle","touchMoved","path","pathname","description"],"mappings":"8kBAIA,IAAMA,EAAS,SAASC,GACtB,IAEMC,EAHmB,WAIvB,aACEC,KAAKC,MAAQH,EAAEG,MAAMH,EAAEI,OAAO,GAAI,IAAK,GAAI,IAC3CF,KAAKG,SAAWL,EAAEM,aAAaN,EAAEI,OAAOJ,EAAEO,OAAQP,EAAEI,OAAOJ,EAAEQ,SAC7DN,KAAKO,cAAgB,GACrBP,KAAKQ,SAAWC,IAAGC,OAAOC,WARL,2BAUvBC,OAAA,WACE,IAAIC,EAAQf,EAAEM,aAAaN,EAAEgB,OAAQhB,EAAEiB,QACvCF,EAAMG,IAAIhB,KAAKG,UACfU,EAAMI,OAAO,IACbjB,KAAKQ,SAASU,IAAIL,EAAMK,IAAIT,IAAGC,OAAOC,aACtCX,KAAKO,cAAcY,KAAK,CAACnB,KAAKG,SAASiB,EAAGpB,KAAKG,SAASkB,IACpDrB,KAAKO,cAAce,OAASC,KAC9BvB,KAAKO,cAAgBP,KAAKO,cAAciB,MAAM,EAhBvC,KAkBTxB,KAAKG,SAASe,IAAIlB,KAAKQ,UACvBR,KAAKQ,SAASiB,MAAM,IApBC,EAsBvBC,KAAA,WAAQ,IAAD,OACL5B,EAAE6B,aACF3B,KAAKO,cAAcqB,SAAQ,SAACC,EAAMC,GAChChC,EAAEiC,KACAjC,EAAEkC,UACAlC,EAAEG,MAAM,EAAG,GACX,EAAKA,MACJ,EAAI,EAAKM,cAAce,OAAUQ,IAGtChC,EAAEmC,QAAF,MAAAnC,EAAC,EAAY+B,GAAZ,QA/BM,SAiCT/B,EAAEoC,WACFpC,EAAEiC,KAAK/B,KAAKC,OACZH,EAAEmC,QAAQjC,KAAKG,SAASiB,EAAGpB,KAAKG,SAASkB,EAnChC,KADY,KAwCrBc,EAAY,GAEhBrC,EAAEsC,MAAQ,WACRtC,EAAEuC,aAAa,IAAK,KACpBvC,EAAEwC,UAAUxC,EAAEyC,IAAK,KACnBJ,EAAYK,MAAMC,KAAK,CAAEnB,OA5Cd,KA4C8B,kBAAM,IAAIvB,KACnDD,EAAE4C,YAGJ5C,EAAE4B,KAAO,WACP5B,EAAE6C,WAAW,GACbR,EAAUP,SAAQ,SAAAgB,GAChBA,EAAShC,SACTgC,EAASlB,WAIb5B,EAAE+C,WAAa,WACb,GACE/C,EAAEgB,QAAU,GACZhB,EAAEiB,QAAU,GACZjB,EAAEgB,QAAUhB,EAAEO,OACdP,EAAEiB,QAAUjB,EAAEQ,OAEd,OAAO,IAKE,0BAAGH,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CACEN,OAAQA,EACRiD,KAAM3C,EAAS4C,SACfC,YAAY","file":"component---src-pages-sketch-2019-03-21-js-feebc3e15e2d2c9ece51.js","sourcesContent":["import React from \"react\";\r\nimport p5 from \"p5\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\n\r\nconst sketch = function(p) {\r\n  const SIZE = 30;\r\n\r\n  class Particle {\r\n    constructor() {\r\n      this.color = p.color(p.random(33, 66), 50, 75);\r\n      this.location = p.createVector(p.random(p.width), p.random(p.height));\r\n      this.prevLocations = [];\r\n      this.velocity = p5.Vector.random2D();\r\n    }\r\n    update() {\r\n      let mouse = p.createVector(p.mouseX, p.mouseY);\r\n      mouse.sub(this.location);\r\n      mouse.setMag(0.1);\r\n      this.velocity.add(mouse.add(p5.Vector.random2D()));\r\n      this.prevLocations.push([this.location.x, this.location.y]);\r\n      if (this.prevLocations.length > SIZE / 2) {\r\n        this.prevLocations = this.prevLocations.slice(1, SIZE);\r\n      }\r\n      this.location.add(this.velocity);\r\n      this.velocity.limit(5);\r\n    }\r\n    draw() {\r\n      p.beginShape();\r\n      this.prevLocations.forEach((prev, i) => {\r\n        p.fill(\r\n          p.lerpColor(\r\n            p.color(0, 0),\r\n            this.color,\r\n            (1 / this.prevLocations.length) * i\r\n          )\r\n        );\r\n        p.ellipse(...prev, SIZE);\r\n      });\r\n      p.endShape();\r\n      p.fill(this.color);\r\n      p.ellipse(this.location.x, this.location.y, SIZE);\r\n    }\r\n  }\r\n\r\n  let particles = [];\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(660, 840);\r\n    p.colorMode(p.HSB, 100);\r\n    particles = Array.from({ length: SIZE }, () => new Particle());\r\n    p.noStroke();\r\n  };\r\n\r\n  p.draw = function() {\r\n    p.background(0);\r\n    particles.forEach(particle => {\r\n      particle.update();\r\n      particle.draw();\r\n    });\r\n  };\r\n\r\n  p.touchMoved = function() {\r\n    if (\r\n      p.mouseX >= 0 &&\r\n      p.mouseY >= 0 &&\r\n      p.mouseX <= p.width &&\r\n      p.mouseY <= p.height\r\n    ) {\r\n      return false;\r\n    }\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout\r\n    sketch={sketch}\r\n    path={location.pathname}\r\n    description=\"More experimentations with vector math. The particles are attracted to a mouse pointer or taps on the canvas.\"\r\n  />\r\n);\r\n"],"sourceRoot":""}