{"version":3,"sources":["webpack:///./src/pages/sketch/2019/05/31.js"],"names":["sketch","p","WIDTH","GRID_SIZE","RULES","random","row","this","cells","Array","from","length","draw","y","forEach","c","i","console","log","fill","square","update","newState","str","String","push","setup","createCanvas","background","noStroke","frameCount","noLoop","location","path","pathname","description"],"mappings":"wKAGMA,EAAS,SAASC,GACtB,IAAMC,EAAQ,IAERC,EAAY,GACZC,EAAQ,CACZ,IAAOH,EAAEI,OAAO,CAAC,EAAG,IACpB,IAAOJ,EAAEI,OAAO,CAAC,EAAG,IACpB,IAAOJ,EAAEI,OAAO,CAAC,EAAG,IACpB,IAAOJ,EAAEI,OAAO,CAAC,EAAG,IACpB,MAAOJ,EAAEI,OAAO,CAAC,EAAG,IACpB,MAAOJ,EAAEI,OAAO,CAAC,EAAG,IACpB,MAAOJ,EAAEI,OAAO,CAAC,EAAG,IACpB,MAAOJ,EAAEI,OAAO,CAAC,EAAG,KA6BhBC,EAAM,IAzCa,WAgBvB,aACEC,KAAKC,MAAQC,MAAMC,KAAK,CAAEC,OAAQT,EAAQC,IAAa,kBACrDF,EAAEI,OAAO,CAAC,EAAG,OAEfE,KAAKC,MAAMD,KAAKC,MAAMG,OAAS,GAAK,EApBf,2BAsBvBC,KAAA,SAAKC,GAAI,IAAD,OACNN,KAAKC,MAAMM,SAAQ,SAACC,EAAGC,GACrBC,QAAQC,IAAIH,EAAGC,EAAIb,EAAW,EAAKU,GACnCZ,EAAEkB,KAAKJ,EAAI,EAAI,KACfd,EAAEmB,OAAOJ,EAAIb,EAAWU,EAAIV,EAAWA,OA1BpB,EA6BvBkB,OAAA,WAAU,IAAD,OACHC,EAAW,GACff,KAAKC,MAAMM,SAAQ,SAACC,EAAGC,GACrB,IAAIO,EAAY,IAANP,EAAU,IAAMQ,OAAO,EAAKhB,MAAMQ,EAAI,IAChDO,GAAOC,OAAO,EAAKhB,MAAMQ,IACzBO,GAAOP,IAAM,EAAKR,MAAMG,OAAS,EAAI,IAAMa,OAAO,EAAKhB,MAAMQ,EAAI,IACjEM,EAASG,KAAKrB,EAAMmB,OAEtBhB,KAAKC,MAAQc,GArCQ,MA2CzBrB,EAAEyB,MAAQ,WACRzB,EAAE0B,aAAazB,EA1CF,KA2CbD,EAAE2B,WAAW,KACb3B,EAAE4B,YAGJ5B,EAAEW,KAAO,WACPN,EAAIM,KAAKX,EAAE6B,WAAa,GACxBxB,EAAIe,SACJpB,EAAE6B,WAAa3B,EAlDF,KAkDwBF,EAAE8B,WAI5B,0BAAGC,EAAH,EAAGA,SAAH,OACb,YAAC,IAAD,CACEhC,OAAQA,EACRiC,KAAMD,EAASE,SACfC,YAAY","file":"component---src-pages-sketch-2019-05-31-js-17a1b9980ebba0f92ded.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\n\r\nconst sketch = function(p) {\r\n  const WIDTH = 660;\r\n  const HEIGHT = 840;\r\n  const GRID_SIZE = 10;\r\n  const RULES = {\r\n    \"111\": p.random([0, 1]),\r\n    \"110\": p.random([0, 1]),\r\n    \"101\": p.random([0, 1]),\r\n    \"100\": p.random([0, 1]),\r\n    \"011\": p.random([0, 1]),\r\n    \"010\": p.random([0, 1]),\r\n    \"001\": p.random([0, 1]),\r\n    \"000\": p.random([0, 1]),\r\n  };\r\n\r\n  class Row {\r\n    constructor() {\r\n      this.cells = Array.from({ length: WIDTH / GRID_SIZE }, () =>\r\n        p.random([0, 1])\r\n      );\r\n      this.cells[this.cells.length - 1] = 1;\r\n    }\r\n    draw(y) {\r\n      this.cells.forEach((c, i) => {\r\n        console.log(c, i * GRID_SIZE, this.y);\r\n        p.fill(c ? 0 : 255);\r\n        p.square(i * GRID_SIZE, y * GRID_SIZE, GRID_SIZE);\r\n      });\r\n    }\r\n    update() {\r\n      let newState = [];\r\n      this.cells.forEach((c, i) => {\r\n        let str = i === 0 ? \"1\" : String(this.cells[i - 1]);\r\n        str += String(this.cells[i]);\r\n        str += i === this.cells.length - 1 ? \"1\" : String(this.cells[i + 1]);\r\n        newState.push(RULES[str]);\r\n      });\r\n      this.cells = newState;\r\n    }\r\n  }\r\n\r\n  const row = new Row();\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(WIDTH, HEIGHT);\r\n    p.background(255);\r\n    p.noStroke();\r\n  };\r\n\r\n  p.draw = function() {\r\n    row.draw(p.frameCount - 1);\r\n    row.update();\r\n    p.frameCount * GRID_SIZE > HEIGHT && p.noLoop();\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout\r\n    sketch={sketch}\r\n    path={location.pathname}\r\n    description=\"Randomly generated cellular automata. Some of these will look, well, bad. Just keep refreshing the page until you see something you like.\"\r\n  />\r\n);\r\n"],"sourceRoot":""}