{"version":3,"sources":["webpack:///./src/pages/sketch/2019/05/30.js"],"names":["sketch","p","grid","next","laplaceA","x","y","sumA","a","laplaceB","sumB","b","setup","pixelDensity","createCanvas","width","height","floor","random","i","j","draw","background","constrain","temp","loadPixels","PIX","c","TWO_PI","map","cos","pixels","updatePixels","location","path","pathname","description","href"],"mappings":"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","file":"component---src-pages-sketch-2019-05-30-js-c869d5d2e42144e13f7f.js","sourcesContent":["import React from \"react\";\r\nimport SketchLayout from \"~components/sketch-layout\";\r\nimport Link from \"~components/link\";\r\n\r\nconst sketch = function(p) {\r\n  let grid;\r\n  let next;\r\n\r\n  const dA = 1;\r\n  const dB = 0.5;\r\n  const feed = 0.055;\r\n  const k = 0.062;\r\n  const SEED_SIZE = 100;\r\n\r\n  function laplaceA(x, y) {\r\n    var sumA = 0;\r\n    sumA += grid[x][y].a * -1;\r\n    sumA += grid[x - 1][y].a * 0.2;\r\n    sumA += grid[x + 1][y].a * 0.2;\r\n    sumA += grid[x][y + 1].a * 0.2;\r\n    sumA += grid[x][y - 1].a * 0.2;\r\n    sumA += grid[x - 1][y - 1].a * 0.05;\r\n    sumA += grid[x + 1][y - 1].a * 0.05;\r\n    sumA += grid[x + 1][y + 1].a * 0.05;\r\n    sumA += grid[x - 1][y + 1].a * 0.05;\r\n    return sumA;\r\n  }\r\n\r\n  function laplaceB(x, y) {\r\n    var sumB = 0;\r\n    sumB += grid[x][y].b * -1;\r\n    sumB += grid[x - 1][y].b * 0.2;\r\n    sumB += grid[x + 1][y].b * 0.2;\r\n    sumB += grid[x][y + 1].b * 0.2;\r\n    sumB += grid[x][y - 1].b * 0.2;\r\n    sumB += grid[x - 1][y - 1].b * 0.05;\r\n    sumB += grid[x + 1][y - 1].b * 0.05;\r\n    sumB += grid[x + 1][y + 1].b * 0.05;\r\n    sumB += grid[x - 1][y + 1].b * 0.05;\r\n    return sumB;\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.pixelDensity(1);\r\n    p.createCanvas(330 / 2, 420 / 2);\r\n\r\n    grid = [];\r\n    next = [];\r\n\r\n    for (let x = 0; x < p.width; x++) {\r\n      grid[x] = [];\r\n      next[x] = [];\r\n      for (let y = 0; y < p.height; y++) {\r\n        grid[x][y] = {\r\n          a: 1,\r\n          b: 0,\r\n        };\r\n        next[x][y] = {\r\n          a: 1,\r\n          b: 0,\r\n        };\r\n      }\r\n    }\r\n\r\n    let x = p.floor(p.random(1, p.width - SEED_SIZE + 1));\r\n    let y = p.floor(p.random(1, p.height - SEED_SIZE + 1));\r\n    for (let i = x; i < x + SEED_SIZE; i++) {\r\n      for (let j = y; j < y + SEED_SIZE; j++) {\r\n        grid[i][j].b = 1;\r\n        grid[p.width - i][p.height - j].b = 1;\r\n      }\r\n    }\r\n  };\r\n\r\n  p.draw = function() {\r\n    // p.background(HUE, 50, 0);\r\n    p.background(255);\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      for (let x = 1; x < p.width - 1; x++) {\r\n        for (let y = 1; y < p.height - 1; y++) {\r\n          let a = grid[x][y].a;\r\n          let b = grid[x][y].b;\r\n\r\n          next[x][y].a = a + dA * laplaceA(x, y) - a * b * b + feed * (1 - a);\r\n          next[x][y].b = b + dB * laplaceB(x, y) + a * b * b - (k + feed) * b;\r\n          next[x][y].a = p.constrain(next[x][y].a, 0, 1);\r\n          next[x][y].b = p.constrain(next[x][y].b, 0, 1);\r\n        }\r\n      }\r\n      const temp = grid;\r\n      grid = next;\r\n      next = temp;\r\n    }\r\n\r\n    p.loadPixels();\r\n    for (let x = 0; x < p.width; x++) {\r\n      for (let y = 0; y < p.height; y++) {\r\n        const PIX = (x + y * p.width) * 4;\r\n        const { a, b } = next[x][y];\r\n        let c = (a - b) * p.TWO_PI;\r\n        c = p.constrain(c, 0, p.TWO_PI, true);\r\n        c = p.map(p.cos(c), -1, 1, 0, 255);\r\n        p.pixels[PIX + 0] = c;\r\n        p.pixels[PIX + 1] = c;\r\n        p.pixels[PIX + 2] = c;\r\n        p.pixels[PIX + 3] = 255;\r\n      }\r\n    }\r\n    p.updatePixels();\r\n  };\r\n};\r\n\r\nexport default ({ location }) => (\r\n  <SketchLayout\r\n    sketch={sketch}\r\n    path={location.pathname}\r\n    description={\r\n      <>\r\n        More experimenting with{\" \"}\r\n        <Link href=\"https://github.com/CodingTrain/website/blob/master/CodingChallenges/CC_013_ReactionDiffusion/P5/sketch.js\">\r\n          Reaction Diffusion\r\n        </Link>\r\n        . This runs <em>slow</em>.\r\n      </>\r\n    }\r\n  />\r\n);\r\n"],"sourceRoot":""}